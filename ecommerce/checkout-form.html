<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PrinterPlaza-Product Checkout</title>
    <link rel="stylesheet" href="index.css" />
    <style>
      .price {
        margin-top: 4px;
        font-size: 14px;
        font-weight: 600;
        color: black;
      }

      .form-wrapper {
        margin-top: 32px;
        max-width: 18rem;
      }

      form {
        padding: 8px 4px 4px 0;
      }
      input {
        display: block;
        width: 100%;
        border-radius: 6px;
        padding: 12px;
        border: 2px solid gray;
        margin: 8px 0;
        font-size: 14px;
      }
      .hidden {
        display: none;
      }
      .popup-wrapper {
        display: flex;
        align-items: end;
        justify-content: center;
        padding: 16px;
        min-height: 100%;
        text-align: center;
      }
      .popup-container {
        overflow: hidden;
        position: relative;
        padding: 20px 16px 16px 16px;
        border-radius: 8px;
        text-align: left;
        background-color: #fff;
        transition-property: all;
        transition-duration: 300ms;
        box-shadow:
          0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      .popup-content {
        margin-top: 12px;
        text-align: center;
      }
      @media (min-width: 640px) {
        .popup-wrapper {
          align-items: center;
          padding: 0;
        }
        .popup-container {
          padding: 24px;
          margin-top: 32px;
          margin-bottom: 32px;
          width: 100%;
          max-width: 24rem;
        }
        .popup-content {
          margin-top: 20px;
        }
      }
      @media (min-width: 1024px) {
        .form-wrapper {
          max-width: 36rem;
        }
        .flex-input {
          display: grid;
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 44px;
        }
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      <!-- navbar -->
      <header>
        <nav>
          <div class="nav-wrapper">
            <div class="nav-list-wrapper">
              <div class="brand-wrapper">
                <a href="index.html" class="brand-content">
                  <h3 class="brand">PrinterPlaza</h3>
                </a>
              </div>
              <div class="desktop-nav">
                <a href="index.html">Home</a>
                <a class="active-link" href="products.html">Products</a>
                <a href="about-us.html">About Us</a>
                <a href="research.html">Research</a>
                <a href="blogs.html">Blog</a>
                <div class="cart-wrapper">
                  <div onclick="onCartClick()" class="cart">
                    <svg
                      height="24px"
                      width="24px"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      aria-hidden="true"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
                      />
                    </svg>
                    <span class="cart-count" id="cart_count">0</span>
                  </div>
                </div>
              </div>
              <div class="mobile-menu-wrapper">
                <!-- Mobile menu button -->
                <button
                  type="button"
                  id="mobile-menu-button"
                  class="mobile-menu-button"
                  aria-controls="mobile-menu"
                  aria-expanded="false"
                >
                  <svg
                    height="24px"
                    width="24px"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
                    />
                  </svg>
                </button>
                <!-- Mobile menu button -->
              </div>
            </div>
          </div>

          <!-- Mobile menu, show/hide based on menu state. -->
          <div id="mobile-menu">
            <div class="cart-wrapper">
              <div onclick="onCartClick()" class="cart">
                <svg
                  height="24px"
                  width="24px"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
                  />
                </svg>
                <span class="cart-count" id="cart_count">0</span>
              </div>
            </div>
            <div style="margin-top: 4px; padding: 8px 0 12px 0">
              <div class="mobile-menu-link">
                <a class="active-link" href="index.html">Home</a>
              </div>
              <div class="mobile-menu-link">
                <a href="products.html">Products</a>
              </div>
              <div class="mobile-menu-link">
                <a href="about-us.html">About Us</a>
              </div>
              <div class="mobile-menu-link">
                <a href="research.html">Research</a>
              </div>
              <div class="mobile-menu-link"><a href="blogs.html">Blog</a></div>
            </div>
          </div>
        </nav>
      </header>
      <!-- navbar -->

      <!-- form -->
      <div style="padding: 44px 20px 44px 20px">
        <div class="details-wrapper">
          <div class="details-container">
            <img src="./assets/Printer.png" alt="printer" />
            <div class="detail-content">
              <h1>Canon Pixma TR150 Wireless Portable Colour Printer</h1>
              <div class="detail-feature">
                <p><strong>Brand: </strong>Canon</p>
                <p><strong>Category: </strong>Portable</p>
              </div>
              <hr />
              <div style="margin-top: 12px">
                <p class="price">
                  <strong>Quantity: </strong><span id="quantity">6</span>
                </p>
                <p class="price">
                  <strong>Total: </strong>NRs. <span id="total">63,000</span>
                </p>
                <p class="text-red">
                  <strong style="color: black">Discount: </strong
                  ><span>-10%</span>
                </p>
                <hr />
                <!-- Checkout form -->
                <div class="form-wrapper">
                  <h4>Shipping Information</h4>
                  <form id="payment-form">
                    <div class="flex-input">
                      <input
                        type="text"
                        name="first_name"
                        id="first_name"
                        placeholder="First Name"
                        required
                      />
                      <input
                        type="text"
                        name="last_name"
                        id="last_name"
                        placeholder="Last Name"
                        required
                      />
                    </div>
                    <div>
                      <input
                        type="text"
                        name="address"
                        id="address"
                        placeholder="Address"
                        required
                      />
                    </div>
                    <div>
                      <input
                        type="text"
                        name="apartment"
                        id="apartment"
                        placeholder="Apartment, suite, etc.(optional)"
                      />
                    </div>
                    <div>
                      <input
                        type="text"
                        name="city"
                        id="city"
                        placeholder="City"
                        required
                      />
                    </div>
                    <div>
                      <input
                        type="tel"
                        name="contact_number"
                        id="contact_number"
                        placeholder="Contact Number"
                        required
                      />
                    </div>
                    <div>
                      <input
                        type="email"
                        name="email"
                        id="email"
                        placeholder="Email Address"
                      />
                    </div>
                    <button type="submit" class="btn" style="margin: 14px 0px">
                      Place Order
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- form -->

      <!-- popup -->
      <div
        style="position: relative; z-index: 10"
        class="hidden"
        aria-labelledby="order-popup"
        id="order-popup"
        role="dialog"
        aria-modal="true"
      >
        <div
          style="
            position: fixed;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            background-color: rgb(90, 90, 90);
            opacity: 0.75;
            transition-property: opacity;
            transition-duration: 150ms;
          "
        ></div>
        <div
          style="
            position: fixed;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            z-index: 10;
            width: 100vw;
            overflow-y: auto;
          "
        >
          <div class="popup-wrapper">
            <div class="popup-container">
              <div>
                <div
                  style="
                    margin: 0 auto;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 100%;
                    height: 48px;
                    width: 48px;
                    background-color: #d1fae5;
                  "
                >
                  <svg
                    height="24px"
                    width="24px"
                    style="color: #059669"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M4.5 12.75l6 6 9-13.5"
                    />
                  </svg>
                </div>
                <div class="popup-content">
                  <h3 id="modal-title">Order Placed</h3>
                  <div style="margin-top: 8px">
                    <p>You will receive your order within 7 days</p>
                  </div>
                </div>
              </div>
              <div
                style="margin-top: 24px; display: flex; justify-content: center"
              >
                <button type="button" id="back-to-home-btn" class="btn">
                  Back to home
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- popup -->

      <!-- footer -->
      <footer style="background-color: black" aria-labelledby="footer-heading">
        <div class="wrapper">
          <div class="content-wrapper">
            <div style="display: flex; align-items: center">
              <h1 style="font-size: 36px; font-weight: 700; color: white">
                PrinterPlaza
              </h1>
            </div>
            <ul role="list">
              <li>
                <a href="index.html">
                  <h3>Home</h3>
                  <p>Landing Page with featured products</p>
                </a>
              </li>
              <li>
                <a href="products.html">
                  <h3>Products</h3>
                  <p>List of products we sell</p>
                </a>
              </li>
              <li>
                <a href="about-us.html">
                  <h3>About Us</h3>
                  <p>Portfolio of team members</p>
                </a>
              </li>
              <li>
                <a href="research.html">
                  <h3>Research</h3>
                  <p>Detailed description about the references</p>
                </a>
              </li>
              <li>
                <a href="blogs.html">
                  <h3>Blog</h3>
                  <p>How technology has affected daily life in business</p>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </footer>
      <!-- footer -->
    </div>
    <script src="index.js"></script>
    <script>
      // get total price and cart quantity from localstorage and
      // update DOM
      document.addEventListener("DOMContentLoaded", function () {
        let quantity = localStorage.getItem("cart_count")
        let total = localStorage.getItem("cart_total")
        document.getElementById("quantity").innerText = quantity
        document.getElementById("total").innerText = total
      })

      let modal = document.getElementById("order-popup")

      // form submission
      document
        .getElementById("payment-form")
        .addEventListener("submit", async function (event) {
          event.preventDefault()
          // after submitting change cart count and total price
          // also remove hidden class for popup
          localStorage.setItem("cart_count", 0)
          localStorage.setItem("cart_total", 0)
          modal.classList.remove("hidden")
        })

      // hide popup and navigate to index page
      document
        .getElementById("back-to-home-btn")
        .addEventListener("click", function () {
          modal.classList.add("hidden")
          window.location.href = "index.html"
        })
    </script>
  </body>
</html>
